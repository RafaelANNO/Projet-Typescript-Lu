
<!DOCTYPE html>
<html>
<head>
	<title>Projet</title>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
</head>
<body>
    <table>
       <tr>
          <td id="leftside_table">
          </td>
          <td>
             <input type="BUTTON" value="->" onclick="addIt();"></input>
             <br />
             <input type="BUTTON" value="<-" onclick="delIt();"></input>
          </td>
          <td id="rightside_table">
          </td>
       </tr>
       <tr>
       </tr>
    </table>
  <script LANGUAGE="JavaScript">
    let leftside_table = document.getElementById("leftside_table")
    let select_leftside = document.createElement("select");
    select_leftside.setAttribute("id", "SelectList");
    select_leftside.setAttribute("size", "5");
    select_leftside.setAttribute("multiple", "multiple");
    select_leftside.setAttribute("style", "width: 150px");
    leftside_table.append(select_leftside)

    let rightside_table = document.getElementById("rightside_table")
    let select_rightside = document.createElement("select");
    select_rightside.setAttribute("id", "PickList");
    select_rightside.setAttribute("size", "5");
    select_rightside.setAttribute("multiple", "multiple");
    select_rightside.setAttribute("style", "width: 150px");
    rightside_table.append(select_rightside)


    all_option = [{
      text: "test1"
    },{
      text: "test2"
    },{
      text: "test3"
    },{
      text: "test4"
    },{
      text: "test5"
    },{
      text: "test6"
    },{
      text: "test7"
    },{
      text: "test8"
    },{
      text: "test9"
    },{
      text: "test10"
    },{
      text: "test11"
    },{
      text: "test12"
    },{
      text: "test13"
    }]

    all_option.map(function (option, index) {
      document.getElementById("SelectList").append(new Option(option.text, index));
    });



    // Initialise - invoked on load
    function initIt() {
      var selectList = document.getElementById("SelectList");
      var selectOptions = selectList.options;
      var selectIndex = selectList.selectedIndex;
      
      var pickList = document.getElementById("PickList");
      var pickOptions = pickList.options;
      pickOptions[0] = null;  // Remove initial entry from picklist (was only used to set default width)
      if (!(selectIndex > -1)) {
        selectOptions[0].selected = true;  // Set first selected on load
        selectOptions[0].defaultSelected = true;  // In case of reset/reload
      }
      selectList.focus();  // Set focus on the selectlist
    }
    
    // Adds a selected item into the picklist
    function addIt() {
      var selectList = document.getElementById("SelectList");
      var selectIndex = selectList.selectedIndex;
      var selectOptions = selectList.options;
      var pickList = document.getElementById("PickList");
      var pickOptions = pickList.options;
      var pickOLength = pickOptions.length;
      // An item must be selected
      while (selectIndex > -1) {
        pickOptions[pickOLength] = new Option(selectList[selectIndex].text);
        pickOptions[pickOLength].value = selectList[selectIndex].value;
          selectOptions[selectIndex] = null;
          var tempText;
          var tempValue;
          // Sort the pick list
          while (pickOLength > 0 && pickOptions[pickOLength].value < pickOptions[pickOLength-1].value) {
            tempText = pickOptions[pickOLength - 1].text;
            tempValue = pickOptions[pickOLength - 1].value;
            pickOptions[pickOLength - 1].text = pickOptions[pickOLength].text;
            pickOptions[pickOLength - 1].value = pickOptions[pickOLength].value;
            pickOptions[pickOLength].text = tempText;
            pickOptions[pickOLength].value = tempValue;
            pickOLength = pickOLength - 1;
          }
        selectIndex = selectList.selectedIndex;
        pickOLength = pickOptions.length;
      }
    }
    
    // Deletes an item from the picklist
    function delIt() {
      var selectList = document.getElementById("SelectList");
      var selectOptions = selectList.options;
      var selectOLength = selectOptions.length;
      var pickList = document.getElementById("PickList");
      var pickIndex = pickList.selectedIndex;
      var pickOptions = pickList.options;
      while (pickIndex > -1) {
          selectOptions[selectOLength] = new Option(pickList[pickIndex].text);
          selectOptions[selectOLength].value = pickList[pickIndex].value;
        pickOptions[pickIndex] = null;
          var tempText;
          var tempValue;
          // Re-sort the select list
          while (selectOLength > 0 && selectOptions[selectOLength].value < selectOptions[selectOLength - 1].value) {
            tempText = selectOptions[selectOLength - 1].text;
            tempValue = selectOptions[selectOLength - 1].value;
            selectOptions[selectOLength - 1].text = selectOptions[selectOLength].text;
            selectOptions[selectOLength - 1].value = selectOptions[selectOLength].value;
            selectOptions[selectOLength].text = tempText;
            selectOptions[selectOLength].value = tempValue;
            selectOLength = selectOLength - 1;
          }
        pickIndex = pickList.selectedIndex;
        selectOLength = selectOptions.length;
      }
    }
    
    // Selection - invoked on submit
    function selIt(btn) {
      var pickList = document.getElementById("PickList");
      var pickOptions = pickList.options;
      var pickOLength = pickOptions.length;
      if (pickOLength < 1) {
        alert("No Selections in the Picklist\nPlease Select using the [->] button");
        return false;
      }
      for (var i = 0; i < pickOLength; i++) {
        pickOptions[i].selected = true;
      }
      return true;
    }
    
    //-->
  </SCRIPT>
</body>
</html>

